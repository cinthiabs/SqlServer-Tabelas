CREATE TABLE ANIMAIS
(	COD_A INT,
	RACA INT,
	NOME VARCHAR(20),
	IDADE INT,
	COR CHAR(20),
	PORTE CHAR(20),
	DONO INT,
	TIPO VARCHAR(20),
	CONSTRAINT PK_COD_A PRIMARY KEY(COD_A),
	CONSTRAINT FK_RACA FOREIGN KEY (RACA) REFERENCES RACAS(COD_RACA),
	CONSTRAINT FK_DONO FOREIGN KEY (DONO) REFERENCES DONOS(COD_DONO));


CREATE TABLE RACAS
(
	COD_RACA INT PRIMARY KEY,
	DESCRICAO VARCHAR(30)
);

CREATE TABLE SERVICOS
(
	COD_SERV INT PRIMARY KEY,
	DESCRICAO VARCHAR(30),
	PRECO NUMERIC(10,2)
);

CREATE TABLE DONOS
(
	COD_DONO INT PRIMARY KEY,
	NOME VARCHAR(40),
	FONE CHAR(10),
	ENDERECO VARCHAR(40),
	CIDADE VARCHAR(20),
	BAIRRO VARCHAR(20)
);

CREATE TABLE AGENDAMENTO
(
	COD_AGD INT PRIMARY KEY,
	DATAS DATETIME,
	ANIMAL INT,
	CONSTRAINT FK_ANIMAL FOREIGN KEY (ANIMAL) REFERENCES ANIMAIS(COD_A),
);

CREATE TABLE ITENS_AGENDADOS
(
	COD_AGD INT,
	COD_SERV INT,
	HORARIO CHAR(4),
	CONSTRAINT PK_INTENS_AGENDADOS PRIMARY KEY(COD_AGD, COD_SERV),
	CONSTRAINT FK_COD_AGD FOREIGN KEY(COD_AGD) REFERENCES AGENDAMENTO(COD_AGD),
	CONSTRAINT FK_COD_SERV FOREIGN KEY(COD_SERV) REFERENCES SERVICOS(COD_SERV)
);

--B)	INSERIR 10 REGISTROS EM CADA TABELA;

INSERT INTO DONOS VALUES
(1,'AMANDA','952745659','RUA AMADOR 21','MAUÁ','ADELINA'),
(2,'CARLOS','958673647','RUA SÃO GERONIMO 180','MAUA','SÃO JOÃO'),
(3,'PAULO','925445514','RUA DOM PEDRO II 1154','MAUA','SÃO SEBASTIÃO'),
(4,'MARIA','991709245','RUA JACAREZINHO','MAUÁ','AMADOR'),
(5,'GIOVANA','979013549','RUA LUZIA DA SILVA','SANTO ANDRE','ITAPARK'),
(6,'SAMARA','949789992','RUA MARCELINO DANTAS','SANTO ANDRE','VILA LEOPOLDINA'),
(7,'MARINEIDE','892549785','RUA JOÃO CARDOSO','SÃO CAETANO','CENTRO'),
(8,'CINTHIA','947854470','RUA BÉLGICA','MAUÁ','JARDIM ITAPEVA'),
(9,'BEATRIZ','932567854','RUA TAIZI KANASHIRO','MAUÁ','JARDIM ESPERANÇA'),
(10,'JOAO','956348343','RUA MINAS GERAIS','SÃO PAULO','SANTA ELENA');


INSERT INTO RACAS VALUES
(1,'CACHORRO'),
(2,'CACHORRO'),
(3,'GATO'),
(4,'COELHO'),
(5,'PAPAGAIO'),
(6,'GATO'),
(7,'TARTARUGA'),
(8,'CORUJA'), 
(9,'HAMSTER'),
(10,'ARARA');

INSERT INTO ANIMAIS VALUES
(1,1,'BOLINHA','1','PRETO','PEQUENO',1,'SHI-TZU'),
(2,2,'MEL','2','BRANCO','PEQUENO',2,'BRANCO'),
(3,3,'JULLY','2','CINZA','MEDIO',3,'MESTIÇO'),
(4,4,'JONY','5','BRANCO','PEQUENO',4,'BRANCO'),
(5,5,'ZE','4','BRANCO','GRANDE',5,'BRANCO'),
(6,6,'MAGALI','5','DOURADO','GRANDE',6,'ATLAS'),
(7,7,'NICOLY','4','AMARELA','GRANDE',7,'PINTADA'),
(8,8,'ROSELI','2','CINZA','PEQUENO',8,'MESTIÇO'),
(9,9,'JULIANA','1','BEGE','PEQUENO',9,'SURIO'),
(10,10,'COLORADA','2','AZUL','PEQUENO',10,'AUSTRALIANO');


INSERT INTO SERVICOS VALUES
(1,'PATA MACHUCADA','70.00'),
(2,'FERIDAS','50.00'),
(3,'NAO COME','50.00'),
(4,'CARRAPATO','100.00'),
(5,'NAO COME','50.00'),
(6,'CARRAPATO','150.00'),
(7,'CASCO MACHUCADO','200.00'),
(8,'PERNA MACHUCADA','30.00'),
(9,'NAO ESTAVA COMENDO','200.00'),
(10,'PICO MACHUCADO','100.00');

INSERT INTO AGENDAMENTO VALUES
(1,'09-05-2020',1),
(2,'15-05-2020',2),
(3,'22-05-2020',3),
(4,'13-06-2020',4),
(5,'05-06-2020',5),
(6,'15-06-2020',6),
(7,'20-06-2020',7),
(8,'22-06-2020',8),
(9,'24-06-2020',9),
(10,'28-06-2020',10);


INSERT INTO ITENS_AGENDADOS VALUES
(1,1,'6:30'),
(2,2,'5:30'),
(3,3,'7:30'),
(4,4,'6:30'),
(5,5,'5:30'),
(6,6,'9:30'),
(7,7,'9:00'),
(8,8,'8:20'),
(9,9,'9:40'),
(10,10,'8:30');




SELECT * FROM DONOS
SELECT * FROM ANIMAIS
SELECT * FROM RAÇAS
SELECT * FROM SERVIÇOS
SELECT * FROM AGENDAMENTO
SELECT * FROM ITENS_AGENDAMENTO

--Selecionar o código do animal, o código da raça, descrição da raça, porte e o nome do dono
SELECT ANIMAIS.CODIGO, ANIMAIS.RACA, RAÇAS.DESCRICAO, ANIMAIS.PORTE, DONOS.NOME
FROM ANIMAIS INNER JOIN RAÇAS ON ANIMAIS.RACA=RAÇAS.COD_RACA INNER JOIN DONOS ON ANIMAIS.DONO=DONOS.COD_DONOS

--Listar os registros e campos de todos os animais da raça Shi-tzu;
SELECT * FROM ANIMAIS WHERE ANIMAIS.TIPO='SHI-TZU';

--Qual a idade do animal mais velho?
SELECT MAX(ANIMAIS.IDADE) AS 'IDADE DO ANIMAL MAIS VELHO' FROM ANIMAIS;

--Listar todos os registros e campos dos serviços com preço entre 20 e 50 reais;
SELECT *FROM SERVIÇOS WHERE PRECO BETWEEN 20 AND 50;

--Listar código do agendamento, data e nome do animal;
SELECT AGENDAMENTO.COD_AGENDAMENTO, AGENDAMENTO.DATA, ANIMAIS.NOME
FROM AGENDAMENTO INNER JOIN ANIMAIS ON ANIMAIS.CODIGO=AGENDAMENTO.ANIMAL

--Quantos itens tem o agendamento 01?
SELECT COUNT(AGENDAMENTO.COD_AGENDAMENTO) AS 'ITENS DE AGENDAMENTO'FROM AGENDAMENTO WHERE AGENDAMENTO.COD_AGENDAMENTO='1'

--Listar código do agendamento, descrição do serviço e horário, de todos os serviços agendados.
SELECT AGENDAMENTO.COD_AGENDAMENTO, SERVIÇOS.DESCRICAO, ITENS_AGENDAMENTO.HORARIO
FROM SERVIÇOS INNER JOIN ITENS_AGENDAMENTO ON ITENS_AGENDAMENTO.COD_SERVICOS=SERVIÇOS.COD_SERVICOS
INNER JOIN AGENDAMENTO ON AGENDAMENTO.COD_AGENDAMENTO=ITENS_AGENDAMENTO.COD_AGENDAMENTO

--Listar o nome do animal, nome do dono, de todos os animais do tipo canino.
SELECT ANIMAIS.NOME, DONOS.NOME 
FROM ANIMAIS INNER JOIN DONOS ON ANIMAIS.DONO=DONOS.COD_DONOS
INNER JOIN RAÇAS ON RAÇAS.COD_RACA=ANIMAIS.RACA WHERE RAÇAS.DESCRICAO='CACHORRO';

--Listar o nome do animal,Tipo, Porte e data Agendamento, independentemente se tenham ou não agendamentos.
SELECT ANIMAIS.NOME, ANIMAIS.TIPO, ANIMAIS.PORTE, AGENDAMENTO.DATA
FROM ANIMAIS INNER JOIN AGENDAMENTO ON ANIMAIS.COD_A=AGENDAMENTO.COD_AGENDAMENTO;

--Listar todos os agendamentos da data igual à mais recente.
SELECT * FROM AGENDAMENTO WHERE AGENDAMENTO.DATA >=(SELECT MAX(AGENDAMENTO.DATA)FROM AGENDAMENTO);